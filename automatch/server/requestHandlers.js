var querystring = require("querystring");
var url = require("url");

//data
var data = ["Aadi", "Aafje", "Aaid", "Aali", "Aaliyah", "Aaralyn", "Aaron", "Aba", "Ababuo", "Abana", "Abarne", "Abay", "Abba", "Abbas", "Abbatha", "Abbey", "Abbie", "Abbott", "Abby", "Abcde", "Abdalah", "Abdiel", "Abdukrahman", "Abdulkareem", "Abdullah", "Abdulrahman", "Abe", "Abednego", "Abeeku", "Abeje", "Abel", "Abelard", "Abeni", "Abhay", "Abia", "Abiba", "Abie", "Abigail", "Abilene", "Abiyram", "Abla", "Abner", "Abra", "Abraham", "Abram","Baara", "Baba", "Baback", "Babette", "Baby", "Bach", "Yen", "Bade", "Baden", "Badr", "Badru", "Badu", "Baeddan", "Baha", "Bahadur", "Bahari", "Bai", "Bailey", "Baina", "Baird", "Bairn", "Baka", "Baker", "Baki", "Baldasarre", "Baldwin", "Balin", "Balint", "Ballard", "Ballari", "Balthasar", "Bambi", "Bambina", "Ban", "Banagher", "Bandana", "Bandele", "Bane", "Banji", "Banjo", "Banks", "Banner", "Bansi", "Banyan", "Bao", "Baqer","Cable", "Cache", "Cactus", "Cade", "Cadee", "Cadelaria", "Caden", "Cadence", "Cadenza", "Cadewyn", "Cadhla", "Cadmus", "Cady", "Cael", "Caelan", "Caerwyn", "Caesar", "Caesarea", "Cage", "Cagney", "Cahya", "Cai", "Caia", "Cailean", "Cailyn", "Caimbrie", "Cain", "Caine", "Cairbre", "Cairo", "Cais", "Cait", "Caitir", "Caitlin", "Caitlyn", "Caius", "Cal", "Cala", "Calais", "Calandra", "Calantha", "Calanthe", "Calder", "Caldwell", "Cale","D'Artagnan", "Da-xia", "Dabney", "Dacey", "Dacia", "Dacian", "Daemyn", "Daenerys", "Daffodil", "Dafydd", "Dagan", "Dagmar", "DAGNY", "Dagon", "Dahl", "Dahlia", "Dai", "Daichi", "Daijiro", "Daiki", "Daire", "Daishiro", "Daisuke", "Daisy", "Daitaro", "Dajuan", "Daker", "Dakota", "Dal", "Dalal", "Dale", "Dalia", "Dalila", "Dalinda", "Dalit", "Dallan", "Dallas", "Dallin", "Dallon", "Dally", "Dallyce", "Dalton", "Dama", "Damali", "Damalis","Ea", "Eadoin", "Eamon", "Ean", "Eara", "Earl", "Earleen", "Earlene", "Early", "Earnest", "Earvin", "Easter", "Easton", "Eastwood", "Eavan", "Ebba", "Ebbe", "Eben", "Ebenezer", "Ebony", "Ece", "Echo", "Ed", "Edalene", "Edaline", "Edan", "Edana", "Edda", "Eddard", "Eddie", "Eddy", "Edeline", "Eden", "Edena", "Edgar", "Edgardo", "Edge", "Edgerton", "Edie", "Edison", "Edita", "Edith", "Edmund", "Edna", "Edolie", "Fabian", "Fabiana", "Fabiano", "Fabienne", "Fabio", "Fabiola", "Fabrice", "Fabrico", "Fabrizio", "Fabunni", "Fadey", "Fadi", "Fadia", "Fadri", "Fahari", "Fahd","Fahima", "Fai", "Faina", "Fairfax", "Fairly", "Faith", "Faiz", "Faizah", "Fakhiri", "Fala", "Falala", "Falan", "Falcon", "Falk", "Fallon", "Famke", "Fanchon", "Fancy", "Fannie", "Fanny", "Fantasia", "Faolan", "Farah", "Fareeda", "Farica", "Farid", "Faris", "Farley", "Farrah", "Gabby", "Gabe", "Gabi", "Gable", "Gabouray", "Gabrie", "Gabriel", "Gabriela", "Gabriella", "Gabrielle", "Gabryle", "Gaby", "Gad", "Gada", "Gadar", "Gael", "Gaenor","Gaerwn", "Gaetan", "Gaetana", "Gaetane", "Gaetano", "Gafna", "Gafnit", "Gagan", "Gage", "Gaia", "Gaiana", "Gail", "Gainell", "Gaius", "Gajijens", "Gal", "Gala", "Galahad", "Galal", "Galatea", "Galaxy", "Gale", "Galen", "Galena", "Galeno", "Gali", "Galia", "Galiena", "Ha", "Haben", "Habib", "Habiba", "Habiki", "Hachi", "Hachiro", "Hachirou", "Hada", "Hadar", "Hadassah", "Haddie", "Hades", "Hadi", "Hadia", "Hadley", "Hadria", "Hadrian", "Haf", "Hafiz", "Hafsa", "Hafwen", "Hagan", "Hagar", "Hagop", "Haidar", "Haide", "Haig", "Haile", "Hailey", "Haines", "Hajar", "Hajari", "Hajra", "Hakan", "Hakeem", "Hakim", "Hal", "Hala", "Halden", "Haldis", "Halen", "Haley", "Hali", "Halia", "Iago", "Iain", "Ian", "Ianna", "Iantha", "Ianthe", "Ianto", "Iban", "Ibis", "Ibrahim", "Ibtesam", "Ice", "Ichabod", "Ichigo", "Ichiro", "Ichirou", "Ichtaca", "Ickett", "Icnoyotl", "Ida", "Idalee", "Idalia", "Idalis", "Idana", "Idania", "Ide", "Idella","Idris", "Iduia", "Idun", "Ieuan", "Ifama", "Ifan", "Ife", "Ifor", "Ige", "Iggi", "Iggy", "Ja", "Jabari", "Jabbar", "Jabilo", "Jabir", "Jabr", "Jabulani", "Jace", "Jacey", "Jachai", "Jacinda", "Jacinta", "Jacinth", "Jack", "Jackie", "Jackopa", "Jackson", "Jaclyn", "Jacob", "Jacoba", "Jacobean", "Jacobien", "Jacoby", "Jacop", "Jacory", "Jacqueline", "Jacquelle", "Jacques", "Jacquez", "Jada", "Jade", "Jaden", "Jadine", "Jadon", "Jadwiga", "Jadyn", "Jadzia", "Jaegar", "Jaeger", "Jael", "Jaela", "Jaelyn", "Jaetyn", "Jafar", "Jafari", "Ignacia", "Ignacio", "Ignatius", "Kaamil", "Kaawa", "Kabecka", "Kabibe", "Kabili", "Kabir", "Kabira", "Kacela", "Kachina", "Kacia", "Kacy", "Kade", "Kadeem", "Kaden", "Kader", "Kadience", "Kadija", "Kadin", "Kadmiel", "Kadri", "Kaede", "Kael", "Kaelem", "Kaelin", "Kaelyn", "Kaemon", "Kaethe", "Kafele", "Kagami", "Kagiso", "Kahlilia", "Kai", "Kaia", "Kaida", "Kaif", "Kaikoura", "Kail", "Kailani", "Kailas","Kailey", "Kaili", "Kainda", "Kaipo", "La", "Cienega", "Laasya", "Laban", "Labonita", "Lacey", "Lachlan", "Lacole", "Lacy", "Lada", "Ladarius", "Laddie", "Ladee", "LaDonna", "Lael", "Lafayette", "Lahela", "Lahoma", "Laibah", "Laik", "Laila", "Laina", "Laine", "Lainey", "Laird", "Laisha", "Lajita", "Lajos", "Lakeisha", "Lakeithia", "Lakelyn", "Laken", "Lakia", "Lakin", "Lakota", "Laksha", "Lakshmi", "Lakyle", "Lala", "Lalage", "Lalaine", "Lalan", "Lalana", "Lalasa", "Lalawethika", "Laleh", "Maaike", "Maalik", "Mab", "Mabel", "Mabli", "Mabon", "Mabyn", "Mac", "Macadrian", "Macall", "Macarena", "Macaria", "Macario", "Macaulay", "Macawi", "Macayle", "Macbeth", "Maccaulay", "Mace", "Maceo", "Macha", "Machiko", "Mackenzie", "Maclean", "Macon", "Maconaquea", "Macrae", "Macy", "Macyn", "Mada", "Madan", "Madden", "Maddock", "Maddox", "Maddy", "Madelaine", "Madeleine", "Madelia", "Madelief", "Madelina", "Madeline", "Madelyn", "Madge", "Madigan", "Madison", "Naara", "Naava", "Nabil", "Nabila", "Nachum", "Nadalia", "Nadav", "Nadda", "Nadezhda", "Nadia", "Nadie", "Nadim", "Nadine", "Nadir", "Nadira", "Nadra", "Naeva", "Nafisa", "Naflah", "Nafuna", "Nagisa", "Nahal", "Nahla", "Nahuatl", "Nahuel", "Naiara", "Naida", "Naif", "Nail", "Naila", "Nailah", "Naima", "Nairi", "Naiser", "Naiya", "Naja", "Naji", "Najia", "Najib","Najila", "Najinca", "Najwa", "Najya", "Nakeisha", "Nakendra", "Oakes", "Oakley", "Oba", "Obadiah", "Obama", "Obedience", "Obelia", "Oberon", "Obert", "Obioma", "Occhave", "Ocean", "Oceana", "Oceane", "Ocheckka", "Octavia", "Octavian", "Octavio", "Octavious", "Octavius", "October", "Oda", "Odakota", "Odalys", "Oded", "Odeda", "Odele", "Odelia", "Odell", "Odelya", "Odessa", "Odetta", "Odette", "Odgerel", "Odile", "Odin", "Odina", "Odo", "Odonna", "Odysseus", "Ofek", "Ofer", "Ofira", "Ofra", "Ogden","Pabla", "Pablo", "Pacey", "Paco", "Paddington", "Paddy", "Padgett", "Padma", "Padraic", "Pagan", "Page", "Pahana", "Pahkakino", "Pahukumaa", "Paige", "Paisley", "Paitalyi", "Paiva", "Paki", "Pakuna", "Palani", "Palesa", "Paley", "Palila", "Pallas", "Pallaton", "Pallavi", "Palma", "Palmer", "Paloma", "Palti", "Pam", "Pamela", "Pamelia", "Panchali", "Pancho", "Pandora", "Paniz", "Pansy", "Panthea", "Panya", "Panyin", "Paola", "Paolo", "Papina", "Qabil", "Qacha", "Qadan", "Qadir", "Qadr", "Qamar", "Qamra", "Qasim", "Qays", "Qi", "Qiana", "Qiao", "Qimat", "Qing", "Qing", "Yuan", "Qismah", "Qismat", "Qortni", "Quade", "Quana","Quanda", "Quang", "Quanita", "Quant", "Quasar", "Quasim", "Quayliah", "Qudeisha", "Queenie", "Quenby", "Quennell", "Quentin", "Querida", "Querijn", "Quest", "Questa", "Quetzal", "Quetzalxochitl", "Quiana", "Quilla", "Quillan", "Quin", "Quincy", "Quineisha", "Quinlan", "Raanan", "Rabi", "Rabia", "Race", "Rach", "Rachael", "Rachana", "Rachel", "Rachelle", "Rachna", "Racquel", "Rad", "Rada", "Radha", "Radka", "Radko", "Radley", "Radwan", "Rae", "Raeanne", "Raed", "Raewyn", "Rafael", "Rafe", "Rafer", "Raffaello", "Rafferty", "Rafi", "Rafiki", "Rafiq", "Rafiqa", "Rafiya", "Raghnall", "Ragnar", "Ragni", "Rahat", "Raheem", "Rahim", "Rahima", "Rahiq", "Rahm", "Rahma", "Rahul", "Raiden", "Raimi", "Saadet", "Saar", "Saba", "Sabah", "Sabeen", "Sabella", "Saber", "Sabin", "Sabina", "Sabine", "Sabiti", "Sable", "Sabra", "Sabri", "Sabriel", "Sabrina", "Sabriyya", "Saburo", "Saburou", "Sacagawea", "Sachet", "Sachi", "Sachiko", "Sachin","Sada", "Sadaf", "Sadah", "Saddam", "Sade", "Sadi", "Sadia", "Sadie", "Sadiki", "Sadiya", "Sadler", "Saeed", "Saeran", "Safa", "Safara", "Safari", "Saffron", "Safi", "Safiya", "Saga", "Sage", "Uaine", "Uba", "Ubaydullah", "Uchenna", "Uday", "Udell", "Ugo", "Ugra", "Ugur", "Uheri", "Ujana", "Ula", "Ulan", "Ulani", "Ulema", "Ulf", "Ulfah", "Ull", "Ulla", "Ulmer", "Ulric", "Ulyana", "Ulyciana", "Ulysses", "Uma", "Umar", "Umatilla", "Umay", "Umaymah", "Umberto", "Ume", "Umed", "Umeko", "Umi", "Umika", "Ummi", "Umut", "Una", "Unique", "Unity", "Unna", "Uorsin", "Upendo", "Upton", "Ura", "Vachel", "Vada", "Vadim", "Vadin", "Vahe", "Vail", "Vajra", "Val", "Vala", "Valdemar", "Valencia", "Valene", "Valentin", "Valentina", "Valentine", "Valentino", "Valeria", "Valerian", "Valerie", "Valeriy", "Valeska","Valiant", "Valient", "Valin", "Valko", "Valkyrie", "Vallerie", "Valley", "Valmai", "Valonia", "Valor", "Valora", "Valterra", "Valtina", "Vaman", "Van", "Vance", "Vandana", "Vander", "Vanessa", "Vangie", "Vanhi", "Vanida", "Vanig", "Vanna", "Waapalaa", "Wabanang", "Wade", "Wafa", "Wafai", "Wafi", "Wafiya", "Waggoner", "Waheed", "Waheeda", "Wahid", "Wahmenitu", "Wahponjea", "Waite", "Wajid", "Wakana", "Wakanda", "Wakapa", "Wakaun", "Wakechai", "Wakichonze", "Wakinyela", "Walda", "Waldemar", "Walden", "Waldina", "Waldo", "Waldron", "Walid", "Walidah", "Walker", "Wallace", "Wallis", "Wally", "Walt", "Walta", "Walter", "Walvia", "Walworth", "Wan", "Wanbli", "Wanda", "Wandella", "Waneta", "Wanyecha", "X-iomania", "Xadrian", "Xakery", "Xalvadora", "Xanadu", "Xander", "Xandra", "Xandy", "Xannon", "Xantara", "Xanthe", "Xanthus", "Xanti", "Xanto", "Xara", "Xaria", "Xarissa", "Xarles", "Xava", "Xavier", "Xaviera","Xaviere", "Xena", "Xenia", "Xenon", "Xenophon", "Xenos", "Xeraphina", "Xerxes", "Xexilia", "Xhaiden", "Xhosa", "Xi-wang", "Xia", "Xia", "He", "Xiang", "Xiao", "Chen", "Xiao", "Hong", "Xidorn", "Ximena", "Xin", "Qian", "Xinavane", "Xing", "Xing", "Xing", "Xio", "Yaakov", "Yaal", "Yachi", "Yadid", "Yadira", "Yaeger", "Yael", "Yafa", "Yagil", "Yagmur", "Yahaira", "Yahir", "Yaholo", "Yahto", "Yahya", "Yair", "Yakov", "Yakub", "Yale", "Yalitza", "Yama", "Yamal", "Yamha", "Yamilet", "Yamin", "Yamir", "Yamka", "Yamparti", "Yan", "Yana", "Yancy", "Yandel", "Yanenowi", "Yanichel", "Yanisin", "Yank", "Yanka", "Yankee", "Yanni", "Yannis","Yantse", "Yaotl", "Yapany", "Yaphet", "Yaqub", "Zabby", "Zabel", "Zabrina", "Zac", "Zacchaeus", "Zaccheus", "Zaccur", "Zach", "Zacharee", "Zachariah", "Zachary", "Zaci", "Zack", "Zad", "Zada", "Zafirah", "Zagiri", "Zahar", "Zahara", "Zahari", "Zahavah", "Zahi", "Zahina", "Zahra", "Zahrah", "Zahur", "Zaida", "Zaide", "Zaiden", "Zaidin", "Zaila", "Zain", "Zaina", "Zaire", "Zajac", "Zakhar", "Zakiya", "Zakuro", "Zale", "Zalika", "Zalman", "Zaltana", "Zamir", "Zamora", "Zan"];

var Format = {
	lowercase: function(str){
		return str.toString().trim().toLowerCase();
	},
	split: function(spliter, str){
		return str.toString().trim().split(spliter);
	}
}

function fetchData(request, response){
  var resData = [],
  		reqQuery = querystring.parse(url.parse(request.url).query),
  		reqStr = Format.lowercase(reqQuery.q);

	if (reqStr) {
		var reqArr = Format.split(" ", reqStr);
		if (reqArr.length) {};
		for(var i in data){
			if (Format.lowercase(data[i]).match(reqStr) !== null) {
				resData.push({name:data[i]});
			}
		}
	}

	response.writeHead(200, {"Content-Type": "application/json"}); 
  response.end(reqQuery.callback +"(" + JSON.stringify(resData) + ")");

}

exports.fetch = fetchData;